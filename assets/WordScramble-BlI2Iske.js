import{c as W,r as s,a as _,j as e,S as E,P as G,B as D,T as Y,X as B,t as F}from"./index-BsN8wKcX.js";import{A as J,R as $}from"./refresh-cw-gIKM61_G.js";const q=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],O=W("clock",q),U={primary:[{word:"cat",hint:"A small furry pet"},{word:"dog",hint:"Man's best friend"},{word:"book",hint:"You read this"},{word:"fish",hint:"It lives in water"},{word:"tree",hint:"It has leaves and branches"},{word:"bird",hint:"It can fly in the sky"},{word:"cake",hint:"A sweet birthday treat"},{word:"star",hint:"It shines at night"},{word:"rain",hint:"Water falling from clouds"},{word:"ball",hint:"Round toy you can throw"}],secondary:[{word:"grammar",hint:"Rules of language structure"},{word:"vocabulary",hint:"Collection of words you know"},{word:"sentence",hint:"A group of words expressing a thought"},{word:"paragraph",hint:"A section of writing"},{word:"adjective",hint:"A word that describes a noun"},{word:"pronoun",hint:"A word used instead of a noun"},{word:"metaphor",hint:"A figure of speech comparing two things"},{word:"narrative",hint:"A story or account of events"},{word:"dialogue",hint:"A conversation between characters"},{word:"synonym",hint:"A word with a similar meaning"}],adult:[{word:"entrepreneur",hint:"Someone who starts a business"},{word:"perseverance",hint:"Persistence despite difficulty"},{word:"communication",hint:"The exchange of information"},{word:"sophisticated",hint:"Complex and refined"},{word:"accommodation",hint:"A place to stay"},{word:"correspondence",hint:"Written communication"},{word:"nevertheless",hint:"In spite of that"},{word:"acknowledge",hint:"To accept or recognize"},{word:"bureaucracy",hint:"Complex administrative procedures"},{word:"consequences",hint:"Results of an action"}]},f=5,k=30,S=l=>{const a=l.split("");for(let i=a.length-1;i>0;i--){const n=Math.floor(Math.random()*(i+1));[a[i],a[n]]=[a[n],a[i]]}const c=a.join("");return c===l?S(l):c},K=({lang:l,whatsAppLink:a})=>{const[c,i]=s.useState(null),[n,A]=s.useState(0),[h,b]=s.useState(0),[w,y]=s.useState(!1),[g,j]=s.useState(""),[r,p]=s.useState(null),[x,v]=s.useState(k),[d,z]=s.useState([]),[R,C]=s.useState(""),L=s.useCallback(t=>{const o=[...U[t]],m=[];for(let u=0;u<f;u++){const P=Math.floor(Math.random()*o.length);m.push(o.splice(P,1)[0])}return m},[]),N=t=>{const o=L(t);i(t),z(o),A(0),b(0),y(!1),j(""),p(null),v(k),C(S(o[0].word)),F("word_scramble",t)},T=s.useCallback((t,o,m)=>{const u=t+1;u>=f?(y(!0),_("word_scramble",m,f)):(A(u),j(""),p(null),v(k),C(S(o[u].word)))},[]);s.useEffect(()=>{if(!c||w||r||x<=0)return;const t=setTimeout(()=>{x<=1?p("timeout"):v(o=>o-1)},1e3);return()=>clearTimeout(t)},[x,c,w,r]),s.useEffect(()=>{if(!r||r===null)return;const t=setTimeout(()=>T(n,d,h),1500);return()=>clearTimeout(t)},[r,n,d,h,T]);const M=t=>{if(t.preventDefault(),!g.trim()||r)return;const o=g.trim().toLowerCase()===d[n].word.toLowerCase();o&&b(m=>m+1),p(o?"correct":"wrong")},I=()=>{i(null),b(0),y(!1)};return c?w?e.jsxs("div",{className:"animate-fadeIn w-full max-w-lg",children:[e.jsx(Y,{size:64,className:"text-yellow-500 mx-auto mb-4 animate-bounce"}),e.jsx("h3",{className:"text-3xl font-bold mb-2",children:h>=4?"Amazing!":h>=3?"Great Job!":"Good Try!"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["You scored ",e.jsxs("span",{className:"font-bold text-indigo-600 text-xl",children:[h,"/",f]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs("a",{href:a,target:"_blank",rel:"noreferrer",className:"bg-indigo-600 text-white px-8 py-3 rounded-full font-bold hover:bg-indigo-700 transition flex items-center justify-center gap-2",children:["Join a Class ",e.jsx(J,{size:18})]}),e.jsxs("button",{onClick:I,className:"text-gray-500 hover:text-gray-700 font-medium flex items-center justify-center gap-2",children:[e.jsx($,{size:18})," Play Again"]})]})]}):e.jsxs("div",{className:"w-full max-w-lg animate-fadeIn",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("span",{className:"text-sm font-bold text-gray-400 uppercase tracking-wide",children:["Round ",n+1,"/",f]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:`flex items-center gap-1 text-sm font-bold ${x<=10?"text-red-500":"text-gray-400"}`,children:[e.jsx(O,{size:16})," ",x,"s"]}),e.jsx("button",{onClick:I,className:"text-gray-400 hover:text-gray-600",children:e.jsx(B,{size:20})})]})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-2 italic",children:d[n].hint}),e.jsx("div",{className:"bg-indigo-50 rounded-2xl p-6 mb-6 text-center",children:e.jsx("p",{className:"text-3xl md:text-4xl font-bold tracking-widest text-indigo-700 uppercase",children:R})}),e.jsxs("form",{onSubmit:M,children:[e.jsx("input",{type:"text",value:g,onChange:t=>j(t.target.value),placeholder:"Type your answer...",className:`w-full border-2 rounded-lg p-3 text-lg text-center font-semibold focus:outline-none transition ${r==="correct"?"border-green-500 bg-green-50 text-green-700":r==="wrong"?"border-red-500 bg-red-50 text-red-700":r==="timeout"?"border-orange-500 bg-orange-50 text-orange-700":"border-gray-200 focus:border-indigo-500"}`,disabled:!!r,autoFocus:!0}),r==="wrong"&&e.jsxs("p",{className:"text-red-500 text-sm mt-2 font-medium text-center",children:["The answer was: ",e.jsx("strong",{children:d[n].word})]}),r==="timeout"&&e.jsxs("p",{className:"text-orange-500 text-sm mt-2 font-medium text-center",children:["Time's up! The answer was: ",e.jsx("strong",{children:d[n].word})]}),!r&&e.jsx("button",{type:"submit",disabled:!g.trim(),className:"w-full bg-indigo-600 text-white font-bold py-3 rounded-lg hover:bg-indigo-700 transition disabled:opacity-50 disabled:cursor-not-allowed mt-4",children:"Check Answer"})]})]}):e.jsxs("div",{className:"w-full animate-fadeIn",children:[e.jsx("h3",{className:"text-2xl font-bold mb-8 text-gray-800",children:l==="zh"?"选择你的级别":l==="ms"?"Pilih Tahap Anda":"Select Your Level"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("button",{onClick:()=>N("primary"),className:"group p-6 rounded-2xl border-2 border-yellow-200 hover:border-yellow-400 hover:bg-yellow-50 transition flex flex-col items-center",children:[e.jsx("div",{className:"bg-yellow-100 p-4 rounded-full mb-4 group-hover:scale-110 transition",children:e.jsx(E,{size:32,className:"text-yellow-600"})}),e.jsx("span",{className:"font-bold text-lg",children:"Primary"})]}),e.jsxs("button",{onClick:()=>N("secondary"),className:"group p-6 rounded-2xl border-2 border-sky-200 hover:border-sky-400 hover:bg-sky-50 transition flex flex-col items-center",children:[e.jsx("div",{className:"bg-sky-100 p-4 rounded-full mb-4 group-hover:scale-110 transition",children:e.jsx(G,{size:32,className:"text-sky-600"})}),e.jsx("span",{className:"font-bold text-lg",children:"Secondary"})]}),e.jsxs("button",{onClick:()=>N("adult"),className:"group p-6 rounded-2xl border-2 border-purple-200 hover:border-purple-400 hover:bg-purple-50 transition flex flex-col items-center",children:[e.jsx("div",{className:"bg-purple-100 p-4 rounded-full mb-4 group-hover:scale-110 transition",children:e.jsx(D,{size:32,className:"text-purple-600"})}),e.jsx("span",{className:"font-bold text-lg",children:"Adult"})]})]})]})};export{K as default};
