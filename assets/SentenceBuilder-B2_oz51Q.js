import{c as L,r as a,j as e,S as _,P as E,B as F,T as G,X as C,C as I,t as $,a as D}from"./index-BsN8wKcX.js";import{A as H,R as J}from"./refresh-cw-gIKM61_G.js";const Y=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],K=L("rotate-ccw",Y),O={primary:[{words:["The","cat","sat","on","the","mat"],correct:"The cat sat on the mat."},{words:["I","like","to","eat","ice","cream"],correct:"I like to eat ice cream."},{words:["She","is","playing","in","the","garden"],correct:"She is playing in the garden."},{words:["My","dog","runs","very","fast"],correct:"My dog runs very fast."},{words:["We","go","to","school","every","day"],correct:"We go to school every day."},{words:["The","bird","sings","a","beautiful","song"],correct:"The bird sings a beautiful song."}],secondary:[{words:["Although","it","was","raining","we","went","outside"],correct:"Although it was raining we went outside."},{words:["She","studied","hard","because","she","wanted","to","pass"],correct:"She studied hard because she wanted to pass."},{words:["The","teacher","who","taught","us","grammar","was","excellent"],correct:"The teacher who taught us grammar was excellent."},{words:["If","I","had","more","time","I","would","read","more"],correct:"If I had more time I would read more."},{words:["Neither","the","students","nor","the","teacher","was","late"],correct:"Neither the students nor the teacher was late."},{words:["He","not","only","speaks","English","but","also","French"],correct:"He not only speaks English but also French."}],adult:[{words:["I","am","writing","to","inquire","about","the","position"],correct:"I am writing to inquire about the position."},{words:["Please","find","attached","my","resume","for","your","review"],correct:"Please find attached my resume for your review."},{words:["We","would","appreciate","your","prompt","response","to","this","matter"],correct:"We would appreciate your prompt response to this matter."},{words:["The","quarterly","report","indicates","significant","growth","in","revenue"],correct:"The quarterly report indicates significant growth in revenue."},{words:["I","look","forward","to","hearing","from","you","soon"],correct:"I look forward to hearing from you soon."},{words:["Could","you","please","clarify","the","terms","of","the","agreement"],correct:"Could you please clarify the terms of the agreement."}]},g=5,N=p=>{const n=[...p];for(let c=n.length-1;c>0;c--){const d=Math.floor(Math.random()*(c+1));[n[c],n[d]]=[n[d],n[c]]}return n},Q=({lang:p,whatsAppLink:n})=>{const[c,d]=a.useState(null),[i,k]=a.useState(0),[f,w]=a.useState(0),[T,y]=a.useState(!1),[h,u]=a.useState([]),[b,m]=a.useState([]),[s,j]=a.useState(null),[x,z]=a.useState([]),R=a.useCallback(t=>{const r=[...O[t]],o=[];for(let l=0;l<g;l++){const B=Math.floor(Math.random()*r.length);o.push(r.splice(B,1)[0])}return o},[]),v=t=>{const r=R(t);d(t),z(r),k(0),w(0),y(!1),u([]),j(null),m(N(r[0].words.map((o,l)=>({word:o,id:l})))),$("sentence_builder",t)},A=t=>{s||(u([...h,t]),m(b.filter(r=>r.id!==t.id)))},M=t=>{s||(m([...b,t]),u(h.filter(r=>r.id!==t.id)))},P=()=>{s||(m(N(x[i].words.map((t,r)=>({word:t,id:r})))),u([]))},W=()=>{const t=h.map(l=>l.word).join(" "),r=x[i].correct.replace(/\.$/,""),o=t===r||t===x[i].correct;o&&w(l=>l+1),j(o?"correct":"wrong"),setTimeout(()=>q(),2e3)},q=()=>{const t=i+1;t>=g?(y(!0),D("sentence_builder",f,g)):(k(t),u([]),j(null),m(N(x[t].words.map((r,o)=>({word:r,id:o})))))},S=()=>{d(null),w(0),y(!1)};return c?T?e.jsxs("div",{className:"animate-fadeIn w-full max-w-lg",children:[e.jsx(G,{size:64,className:"text-yellow-500 mx-auto mb-4 animate-bounce"}),e.jsx("h3",{className:"text-3xl font-bold mb-2",children:f>=4?"Brilliant!":f>=3?"Great Job!":"Keep Practicing!"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["You scored ",e.jsxs("span",{className:"font-bold text-indigo-600 text-xl",children:[f,"/",g]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs("a",{href:n,target:"_blank",rel:"noreferrer",className:"bg-indigo-600 text-white px-8 py-3 rounded-full font-bold hover:bg-indigo-700 transition flex items-center justify-center gap-2",children:["Join a Class ",e.jsx(H,{size:18})]}),e.jsxs("button",{onClick:S,className:"text-gray-500 hover:text-gray-700 font-medium flex items-center justify-center gap-2",children:[e.jsx(J,{size:18})," Play Again"]})]})]}):e.jsxs("div",{className:"w-full max-w-lg animate-fadeIn",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("span",{className:"text-sm font-bold text-gray-400 uppercase tracking-wide",children:["Round ",i+1,"/",g]}),e.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600",children:e.jsx(C,{size:20})})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-4 text-center",children:"Tap words in the correct order to build the sentence."}),e.jsxs("div",{className:`min-h-[60px] border-2 border-dashed rounded-xl p-3 mb-6 flex flex-wrap gap-2 transition ${s==="correct"?"border-green-500 bg-green-50":s==="wrong"?"border-red-500 bg-red-50":"border-gray-300 bg-gray-50"}`,children:[h.length===0&&e.jsx("span",{className:"text-gray-400 text-sm italic",children:"Tap words below..."}),h.map(t=>e.jsx("button",{onClick:()=>M(t),className:`px-3 py-1.5 rounded-lg font-semibold text-sm transition ${s==="correct"?"bg-green-200 text-green-800":s==="wrong"?"bg-red-200 text-red-800":"bg-indigo-100 text-indigo-700 hover:bg-indigo-200"}`,disabled:!!s,children:t.word},t.id)),s==="correct"&&e.jsx(I,{size:20,className:"text-green-600 ml-auto self-center"}),s==="wrong"&&e.jsx(C,{size:20,className:"text-red-600 ml-auto self-center"})]}),s==="wrong"&&e.jsxs("p",{className:"text-red-500 text-sm mb-4 font-medium text-center",children:["Correct: ",e.jsx("strong",{children:x[i].correct})]}),e.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-6",children:b.map(t=>e.jsx("button",{onClick:()=>A(t),className:"px-4 py-2 rounded-lg border-2 border-gray-200 bg-white font-semibold text-sm hover:border-indigo-400 hover:bg-indigo-50 transition",disabled:!!s,children:t.word},t.id))}),!s&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:P,className:"flex-1 border-2 border-gray-200 text-gray-500 font-bold py-2.5 rounded-lg hover:bg-gray-50 transition flex items-center justify-center gap-2",children:[e.jsx(K,{size:16})," Clear"]}),e.jsxs("button",{onClick:W,disabled:b.length>0,className:"flex-1 bg-indigo-600 text-white font-bold py-2.5 rounded-lg hover:bg-indigo-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsx(I,{size:16})," Check"]})]})]}):e.jsxs("div",{className:"w-full animate-fadeIn",children:[e.jsx("h3",{className:"text-2xl font-bold mb-8 text-gray-800",children:p==="zh"?"选择你的级别":p==="ms"?"Pilih Tahap Anda":"Select Your Level"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("button",{onClick:()=>v("primary"),className:"group p-6 rounded-2xl border-2 border-yellow-200 hover:border-yellow-400 hover:bg-yellow-50 transition flex flex-col items-center",children:[e.jsx("div",{className:"bg-yellow-100 p-4 rounded-full mb-4 group-hover:scale-110 transition",children:e.jsx(_,{size:32,className:"text-yellow-600"})}),e.jsx("span",{className:"font-bold text-lg",children:"Primary"})]}),e.jsxs("button",{onClick:()=>v("secondary"),className:"group p-6 rounded-2xl border-2 border-sky-200 hover:border-sky-400 hover:bg-sky-50 transition flex flex-col items-center",children:[e.jsx("div",{className:"bg-sky-100 p-4 rounded-full mb-4 group-hover:scale-110 transition",children:e.jsx(E,{size:32,className:"text-sky-600"})}),e.jsx("span",{className:"font-bold text-lg",children:"Secondary"})]}),e.jsxs("button",{onClick:()=>v("adult"),className:"group p-6 rounded-2xl border-2 border-purple-200 hover:border-purple-400 hover:bg-purple-50 transition flex flex-col items-center",children:[e.jsx("div",{className:"bg-purple-100 p-4 rounded-full mb-4 group-hover:scale-110 transition",children:e.jsx(F,{size:32,className:"text-purple-600"})}),e.jsx("span",{className:"font-bold text-lg",children:"Adult"})]})]})]})};export{Q as default};
